define("local_assign_ai/inject_ai",["exports","core/ajax","core/notification"],(function(_exports,_ajax,_notification){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_ajax=_interopRequireDefault(_ajax),_notification=_interopRequireDefault(_notification);_exports.init=token=>{token&&_ajax.default.call([{methodname:"local_assign_ai_get_details",args:{token:token}}])[0].done((data=>{const message=data.message;let attempts=0;const interval=setInterval((()=>{attempts++,((()=>{const textarea=document.querySelector('#id_assignfeedbackcomments_editor, textarea[id^="id_feedbackcomments_"]');if(!textarea)return!1;if(textarea.value=message,window.tinymce&&window.tinymce.get(textarea.id))return window.tinymce.get(textarea.id).setContent(message),!0;if(window.M&&window.M.editor_atto&&window.M.editor_atto.getEditorForElement){const editor=window.M.editor_atto.getEditorForElement(textarea);if(editor)return editor.setHTML(message),!0}return!1})()||attempts>20)&&clearInterval(interval)}),500)})).fail(_notification.default.exception)}}));

//# sourceMappingURL=inject_ai.min.js.map