define("local_assign_ai/inject_ai/inject_message",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.injectMessage=void 0;_exports.injectMessage=function(message){let options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!message)return!1;const root=options.root||document,targetUserid=options.targetUserid?parseInt(options.targetUserid,10):0,candidates=Array.from(root.querySelectorAll('#id_assignfeedbackcomments_editor, textarea[id^="id_feedbackcomments_"]')),filtered=candidates.filter((el=>{if(!targetUserid)return!0;const form=el.closest("form");if(!form)return!0;const userinput=form.querySelector('input[name="userid"]');return!userinput||parseInt(userinput.value,10)===targetUserid})),textarea=filtered.find((el=>el&&(null!==el.offsetParent||el.getClientRects().length>0)))||filtered[0]||candidates[0];if(!textarea)return!1;if(textarea.value===message)return!0;if(textarea.value=message,window.tinymce&&window.tinymce.get(textarea.id))return window.tinymce.get(textarea.id).setContent(message),!0;if(window.M&&window.M.editor_atto&&window.M.editor_atto.getEditorForElement){const editor=window.M.editor_atto.getEditorForElement(textarea);if(editor)return editor.setHTML(message),!0}return!0}}));

//# sourceMappingURL=inject_message.min.js.map